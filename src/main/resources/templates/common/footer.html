<!DOCTYPE html>

<html xmlns:th="http://www.thymeleaf.org" lang="ko">

<head>
	<meta charset="UTF-8">
	<title>Insert title here</title>
	<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" crossorigin="anonymous"></script>
	<link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
	<link rel="stylesheet" href="/css/common/footer.css">
	<!-- <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/normalize/5.0.0/normalize.min.css"> -->
	
	<script type="text/javascript">
	
	$(function() {
		
	})
	
	
	</script>

<style>

/* div.footer, img[name='체크포인트']{
	height: 60px;
	background-color: #000000;
	} */
        /* 줄 스타일 */
/* hr.footer {
	border: 1px solid #000000; 
	margin: 10px 0;
	} */
	

</style>	
</head>

<body >
<footer th:fragment="defaultFooter" class="footer-container">


<div >
 <!--	<table>
		<tbody>
			<tr>
				<td><img class="footerImage" th:name="타임라인" th:src="'https://bcuacdphgdfn24694507.cdn.ntruss.com/timelineList-free-icon-open-book-1375505.png'"/></td>
				<td><img class="footerImage" th:name="체크포인트" th:src="'https://bcuacdphgdfn24694507.cdn.ntruss.com/checkpoint_image.png'" /></td>
				<td><img class="footerImage" th:name="체크포인트" th:src="'https://bcuacdphgdfn24694507.cdn.ntruss.com/checkpoint_image.png'" /></td>
				<td><img class="footerImage" th:name="체크포인트" th:src="'https://bcuacdphgdfn24694507.cdn.ntruss.com/checkpoint_image.png'" /></td>
				<td><img class="footerImage" th:name="체크포인트" th:src="'https://bcuacdphgdfn24694507.cdn.ntruss.com/checkpoint_image.png'" /></td>
			</tr>
		</tbody>
	</table>
 -->
	<nav class="mobile-bottom-nav">
		<div class="mobile-bottom-nav__item mobile-bottom-nav__item--active">
			<div class="mobile-bottom-nav__item-content" name="프로필">
				<i class="material-icons">account_box</i>
				Profile
			</div>		
		</div>
		<div class="mobile-bottom-nav__item">		
			<div class="mobile-bottom-nav__item-content" name="타임라인">
				<i class="Medium material-icons">library_books</i>
				TimeLine
			</div>
		</div>
		<div class="mobile-bottom-nav__item">
			<div class="mobile-bottom-nav__item-content" name="체크포인트">
				<i class="large material-icons">album</i>
				Record
			</div>		
		</div>
		
		<div class="mobile-bottom-nav__item">
			<div class="mobile-bottom-nav__item-content" name="커뮤니티">
				<i class="material-icons">insert_comment</i>
				Community
			</div>		
		</div>
		<div class="mobile-bottom-nav__item">
			<div class="mobile-bottom-nav__item-content" name="메뉴">
				<i class="material-icons">list</i>
				Menu
			</div>		
		</div>
	</nav> 


<!-- <a href="#" th:text="체크포인트"></a> -->
 </div> 
<input type="hidden" th:name="recordUserIdOfFooter" th:value="'user2'"/>
<input type="hidden" th:name="recordTitleOfFooter" th:value="null"/>
<input type="hidden" th:name="latitudeOfFooter" th:value="33.450701"/>
<input type="hidden" th:name="longitudeOfFooter" th:value="126.570667"/>
<input type="hidden" th:name="checkpointAddressOfFooter" th:value="'서울시 강남구'"/>

	
<script src="https://code.jquery.com/jquery-3.7.1.js" integrity="sha256-eKhayi8LEQwp4NKxN+CfCh+3qOVUtJn3QNZ0TciWLP4=" crossorigin="anonymous"></script>	
<script type="text/javascript">
	$(function() {
		
		$("div[name='타임라인']").on("click", function() {
			self.location = "/timeline/getTimelineList?userId=user1";
			
		});
		
		let recordUserId = $('input[name="recordUserIdOfFooter"]').val();
		let recordTitle = $('input[name="recordTitleOfFooter"]').val();
		let latitude = $('input[name="latitudeOfFooter"]').val();
		let longitude = $('input[name="longitudeOfFooter"]').val();
		let checkpointAddress = $('input[name="checkpointAddressOfFooter"]').val();
		/* $("a[href='#']:contains('체크포인트')").on("click", function() { */
		$("div[name='체크포인트']").on("click", function() {
				$.ajax("/timeline/rest/addTimeline",{
					method : "POST",
					dataType : "json",
					headers : {
						"Content-Type" : "application/json; charset = UTF-8",
						"Accept" : "application/json; charset = UTF-8"
					},
					data : JSON.stringify({
					    recordUserId : recordUserId,
					    recordTitle : recordTitle,
					    latitude : latitude,
					    longitude : longitude,
					    checkpointAddress : checkpointAddress
					}),
					success : function(response,status){
						alert(JSON.stringify(response));
						console.log(JSON.stringify(response));
					},
	                error: function(xhr, status, error) {
	                    alert('Error: ' + error);
	                }
					
				})
			});
		
		$("div[name='프로필']").on("click", function() {
			window.location.href=`/user/getProfile?userId=[[${userId}]]`;
		});
		
		$("div[name='커뮤니티']").on("click", function() {
			window.location.href="/community/getSharedRecordList";
		})
		
		$("div[name='메뉴']").on("click", function() {
			window.location.href=`/common/menu`;
		})		
	});
</script>
</footer>	
</body>

</html>
