<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" lang="ko">
<head>
	<meta charset="UTF-8">
	<title>Insert title here</title>
<style>
/* div.footer, img[name='체크포인트']{
	height: 60px;
	background-color: #000000;
	} */
        /* 줄 스타일 */
/* hr.footer {
	border: 1px solid #000000; 
	margin: 10px 0;
	} */
</style>	
</head>
<body>

<footer th:fragment="defaultFooter">
<div class='footer'>
<img th:name="타임라인" th:src="'https://bcuacdphgdfn24694507.cdn.ntruss.com/timelineList-free-icon-open-book-1375505.png'" style="height: 50px;"/>
<img th:name="체크포인트" th:src="'https://bcuacdphgdfn24694507.cdn.ntruss.com/checkpoint_image.png'" style="height: 50px;"/>
<!-- <a href="#" th:text="체크포인트"></a> -->
</div>
<input type="hidden" th:name="recordUserId" th:value="'user2'"/>
<input type="hidden" th:name="recordTitle" th:value="null"/>
<input type="hidden" th:name="latitude" th:value="33.450701"/>
<input type="hidden" th:name="longitude" th:value="126.570667"/>
<input type="hidden" th:name="checkpointAddress" th:value="'서울시 강남구'"/>

	
<script src="https://code.jquery.com/jquery-3.7.1.js" integrity="sha256-eKhayi8LEQwp4NKxN+CfCh+3qOVUtJn3QNZ0TciWLP4=" crossorigin="anonymous"></script>
<script src="https://code.jquery.com/ui/1.13.3/jquery-ui.js" integrity="sha256-J8ay84czFazJ9wcTuSDLpPmwpMXOm573OUtZHPQqpEU=" crossorigin="anonymous"></script>	
<script type="text/javascript">
$(function() {
	let recordUserId = $('input[name="recordUserId"]').val();
	let recordTitle = $('input[name="recordTitle"]').val();
	let latitude = $('input[name="latitude"]').val();
	let longitude = $('input[name="longitude"]').val();
	let checkpointAddress = $('input[name="checkpointAddress"]').val();
	/* $("a[href='#']:contains('체크포인트')").on("click", function() { */
	$("img[name='체크포인트']").on("click", function() {
			$.ajax("/timeline/rest/addTimeline",{
				method : "POST",
				dataType : "json",
				headers : {
					"Content-Type" : "application/json; charset = UTF-8",
					"Accept" : "application/json; charset = UTF-8"
				},
				data : JSON.stringify({
				    recordUserId : recordUserId,
				    recordTitle : recordTitle,
				    latitude : latitude,
				    longitude : longitude,
				    checkpointAddress : checkpointAddress
				}),
				success : function(response,status){
					alert(JSON.stringify(response));
					console.log(JSON.stringify(response));
				},
                error: function(xhr, status, error) {
                    alert('Error: ' + error);
                }
				
			})
		})
	})
</script>
</footer>
</body>	
</html>
