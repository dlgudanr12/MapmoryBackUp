<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" lang="ko">
<head>
	<meta charset="UTF-8">
	<title>Insert title here</title>
<style type="text/css">
a{
	color: blue;
}
</style>
</head>
<body>
<div th:name="getKakaoMap" th:data-recordno="${record.recordNo}" th:include="timeline/component/map::kakaoMap"></div>
	<br />
	<table border=1>
		<tr>
			<td th:text="${record.recordTitle}"></td>
			<td th:text="${record.categoryNo}"></td>
			<td th:text="${record.updateCount}"></td>
			<td th:text="${record.sharedDate!=null ? '공유됨' : '비공유'}"></td>
		</tr>
		<tr>
			<td th:text="${record.checkpointDate}"></td>
		</tr>
		<tr>
			<td th:text="${record.checkpointAddress}"></td>
		</tr>
		<tr>
			<td th:text="${record.mediaName}"></td>
		</tr>
		<tr th:each="image : ${record.imageName}">
			<td th:text="${image.imageTagText}"></td>
		</tr>
		<tr>
			<td><br /></td>
		</tr>
		<tr>
			<td><span th:each="hash : ${record.hashtag}" th:text="${hash.imageTagText}+'&nbsp'"></span></td>
		</tr>
		<tr>
			<td th:utext="${record.recordText}"></td>
		</tr>
	</table>
	<span><a th:name="updateTimeline" th:text=" '수정' "></a></span>
	<span><a th:name="deleteTimeline" th:text=" '삭제' "></a></span>
	<input type="hidden" th:name="recordNo" th:value="${record.recordNo}"/>
	<input type="hidden" th:name="recordUserId" th:value="${record.recordUserId}"/>
<script type="text/javascript">
$(function() {
	$("a").mouseenter(function() {
	$(this).css("color", "red");
	}).mouseleave(function() {
	$(this).css("color", "blue");
	})
	
	let recordNo=$('input[name="recordNo"]').val();
	let recordUserId=$('input[name="recordUserId"]').val();
	
	$("div[name='getKakaoMap']").click(function() {
		uri="?recordNo="+recordNo;
		self.location.replace("/timeline/getSimpleTimeline"+uri);
	})
	
	$("a[name='updateTimeline']").click(function() {
		uri="?recordNo="+recordNo;
		self.location="/timeline/updateTimeline"+uri;
	})
	
	$("a[name='deleteTimeline']").click(function() {
		uri="?recordNo="+recordNo+"&userId="+recordUserId;
		self.location="/timeline/deleteTimeline"+uri;
	})
})
</script>
</body>
</html>