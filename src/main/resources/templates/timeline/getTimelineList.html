<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" lang="ko">
<head>
	<meta charset="UTF-8">
	<title>Insert title here</title>
<link href="https://cdn.jsdelivr.net/npm/bootstrap@4.4.1/dist/css/bootstrap.min.css" rel="stylesheet">
<style type="text/css">
body{margin-top:20px;}
.timeline {
    border-left: 3px solid #727cf5;
    border-bottom-right-radius: 4px;
    border-top-right-radius: 4px;
    background: rgba(114, 124, 245, 0.09);
    margin: 0 auto;
    letter-spacing: 0.2px;
    position: relative;
    line-height: 1.4em;
    font-size: 0.9em;
    padding: 50px;
    list-style: none;
    text-align: left;
    max-width: 40%;
}

@media (max-width: 767px) {
    .timeline {
        max-width: 98%;
        padding: 25px;
    }
}

.timeline h1 {
    font-weight: 300;
    font-size: 1.4em;
}

.timeline h2,
.timeline h3 {
    font-weight: 600;
    font-size: 1rem;
    margin-bottom: 10px;
}

.timeline .event {
    border-bottom: 1px dashed #e8ebf1;
    padding-bottom: 25px;
    margin-bottom: 25px;
    position: relative;
}

/* @media (max-width: 767px) {
    .timeline .event {
        padding-top: 30px;
    }
} */

.timeline .event:last-of-type {
    padding-bottom: 0;
    margin-bottom: 0;
    border: none;
}

.timeline .event:before,
.timeline .event:after {
    position: absolute;
    display: block;
    top: 0;
}

.timeline .event:before {
    left: -237px;
   	/* left: -31.8px; */
    content: attr(data-date);
    text-align: right;
    font-weight: 100;
    font-size: 1.2em;
    min-width: 120px;
}

@media (max-width: 767px) {
    .timeline .event:before {
        left: 0px;
        text-align: left;
    }
}

.timeline .event:after {
    -webkit-box-shadow: 0 0 0 3px #727cf5;
    box-shadow: 0 0 0 3px #727cf5;
    left: -55.8px;
    background: #fff;
    border-radius: 50%;
    height: 9px;
    width: 9px;
    content: "";
    top: 5px;
}

@media (max-width: 767px) {
    .timeline .event:after {
        left: -31.8px;
    }
}

.rtl .timeline {
    border-left: 0;
    text-align: right;
    border-bottom-right-radius: 0;
    border-top-right-radius: 0;
    border-bottom-left-radius: 4px;
    border-top-left-radius: 4px;
    border-right: 3px solid #727cf5;
}

.rtl .timeline .event::before {
    left: 0;
    right: -170px;
}

.rtl .timeline .event::after {
    left: 0;
    right: -55.8px;
}

span.recordNo a{
	color: blue;
}

div.dropdown{
	text-align: right;
	color: blue;
}
    </style>
</head>
<body>
	<h1 th:text="${'getTimelineList'}"></h1>
	
    <a th:href="@{/timeline/getUserCategoryList}" th:text="${'getUserCategoryList'}"></a><br/>
    <a th:href="@{/timeline/getAdminCategoryList}" th:text="${'getAdminCategoryList'}"></a><br/>
    <a href="/timeline/getDetailTimeline2" th:text="${'getDetailTimeline2'}"></a><br/>
    <a href="/timeline/getDetailTimeline3" th:text="${'getDetailTimeline3'}"></a><br/>
    
    <div class="dropdown">
		<a th:name="getTimecapsuleList" th:text="'타임캡슐 목록'"></a><br/>
		<a th:name="getSummaryRecord" th:text="'요약된 기록 목록'"></a>
    </div>
<div class="container">
<div class="row">
<div class="col-lg-12 col-md-12 col-sm-12 col-xl-12 col-xxl-12">
<!-- <div class="col-md-12 col-sm-12 col-xl-12 col-xxl-12"> -->
<div class="card">
<div class="card-body">
<h6 class="card-title" style="text-align:center;">
	<a th:name="getTimelineListLeft" th:text="'&lt◀&nbsp&nbsp&nbsp '"></a>
	<input type="date" th:name="getTimelineListSelect" th:value="${selectDay}" />
	<input type="hidden" th:name="userId" th:value="'user1'" />
	<input type="hidden" th:name="selectDay" th:value="${selectDay}" />
	<!-- <a th:name="getTimelineListRight" th:data-userid="'user1'" th:data-selectday="${selectDay}" th:text="' &nbsp&nbsp&nbsp▶&gt'"></a> -->
	<a th:name="getTimelineListRight" th:text="' &nbsp&nbsp&nbsp▶&gt'"></a>
</h6>
<div id="content">
	<ul class="timeline" th:each="record : ${timelineList}">
		<li class="event" ><!-- th:data-date="${record.checkpointDate}" -->
			<h3 th:text="${record.checkpointDate}"></h3>
			<p><span th:text="'&nbsp ' + ${record.checkpointAddress} + '&nbsp '"></span></p>
			<p>
			<span class="recordNo">
				<a th:name="getSimpleTimeline" th:data-recordno="${record.recordNo}" th:text="'&nbsp ' + ${record.recordTitle} + '&nbsp '"></a>
			</span>
			<span th:text="${record.tempType==1 ? '기록됨' : ''}"></span>
			</p>
	<!-- <table border='1'>
		<thead>
		</thead>
		<tbody>
			<tr th:each="record : ${timelineList}">
				<td>
					<span th:text="'일시 : ' + ${record.checkpointDate}"></span><br/>
					<span th:text="'&nbsp 주소 : ' + ${record.checkpointAddress}"></span><br/>
					<span th:text="'&nbsp '+${record.recordTitle}"></span>
					<span th:text="${record.tempType==1 ? '기록됨' : ''}"></span><br/>
					<span th:text="' '"></span><br/>
				</td>
			</tr>
		</tbody>
	</table> -->
		</li>
	</ul>
</div>
</div>
</div>
</div>
</div>
</div>

<div th:include="common/footer::defaultFooter"></div>

<script src="https://code.jquery.com/jquery-3.7.1.js" integrity="sha256-eKhayi8LEQwp4NKxN+CfCh+3qOVUtJn3QNZ0TciWLP4=" crossorigin="anonymous"></script>
<!-- <script src="https://code.jquery.com/ui/1.13.3/jquery-ui.js" integrity="sha256-J8ay84czFazJ9wcTuSDLpPmwpMXOm573OUtZHPQqpEU=" crossorigin="anonymous"></script> -->	

<script type="text/javascript">
$(function() {
	let userId=$('input[name="userId"]').val();
	let selectDay=$('input[name="getTimelineListSelect"]').val();
	let uri;
	
	$("span.recordNo a, div.dropdown a").mouseenter(function() {
		$(this).css("color", "red");
	}).mouseleave(function() {
		$(this).css("color", "blue");
	})
	
	$("a[name='getTimecapsuleList']").click(function() {
		uri="?userId="+userId
		self.location="/timeline/getTimecapsuleList"+uri;
	})
	
	$("a[name='getSummaryRecord']").click(function() {
		uri="?userId="+userId
		self.location="/timeline/getSummaryRecord"+uri;
	})
	
	$("a[name='getSimpleTimeline']").click(function() {
		let recordNo=$(this).data('recordno');
		/* alert(recordNo); */
		uri="?recordNo="+recordNo;
		self.location="/timeline/getSimpleTimeline"+uri;
	})
	
	 /* $("input[name='getTimelineListSelect']").datepicker({
		dateFormat :"yyyy-mm-dd",
		onSelect: function(dateText) {
            console.log("사용자가 선택한 날짜:", dateText);
            // 여기서 선택한 날짜를 원하는 방식으로 처리할 수 있음
            // 예: AJAX 요청을 보내거나 다른 동작을 수행
        }
	});  */
	
	$('input[name="getTimelineListSelect"]').change(function(){
		selectDay=$('input[name="getTimelineListSelect"]').val();
		uri="?userId="+userId+"&selectDay="+selectDay
		self.location.replace("/timeline/getTimelineList"+uri);
	})
	
	/* $("a[name='getTimelineListSelect']").click(function() {
		let userId=$(this).data('userid');
		let selectDay=$(this).data('selectday');
		let uri="?userId="+userId+"&selectDay="+selectDay;
		self.location="/timeline/getTimelineList"+uri;
	}) */
	
	$("a[name='getTimelineListLeft']").click(function() {
		/* let userId=$(this).data('userid');
		let selectDay=$(this).data('selectday'); */
		let plus=-1;
		uri="?userId="+userId+"&selectDay="+selectDay+"&plus="+plus;
		self.location.replace("/timeline/getTimelineList"+uri);
	})
	
	$("a[name='getTimelineListRight']").click(function() {
		let plus=1;
		uri="?userId="+userId+"&selectDay="+selectDay+"&plus="+plus;
		self.location.replace("/timeline/getTimelineList"+uri);
	})
})
</script>
</body>	
</html>